<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'Add Applications'" [items]="['Crew','Applications']" [active_item]="'Add Applications'">
      </app-breadcrumb>
    </div>
    <div class="row clearfix ">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="box-shadow">
          <div class="card">
            <div class="body">


              <form class="m-4" [formGroup]="docForm">

                <br>
                   <mat-tab-group backgroundColor="light" animationDuration="1000ms" style="font-family: century gothic, sans-serif">
                   <mat-tab label="Main Details" >
                    <br> <br> <br>
                <div class="row">
                  <div class="col-md-10">

                    <div class="row">

                  
                      <div  class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Surname</mat-label>
                          <input matInput formControlName="surname" [readonly]="crewflag">
                          <mat-error *ngIf="docForm.get('surname').hasError('required')">
                            Surname is required
                        </mat-error>
                        </mat-form-field>
                      </div>

                   

                      <div   class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Name</mat-label>
                          <input matInput formControlName="name" [readonly]="crewflag">
                          <mat-error *ngIf="docForm.get('name').hasError('required')">
                            Name is required
                        </mat-error>
                        </mat-form-field>
                      </div>

                    

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label> Middle Name</mat-label>
                          <input matInput formControlName="midname"[readonly]="crewflag">
                        </mat-form-field>
                      </div>


                   
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select [options]="nationalitylist" placeholderLabel="Search for Nationality"
                        noEntriesFoundLabel="No results found" [label]="'Nationality'" formControlName="nation"
                        [required]="true" [errorMessage]="'Nationality is required'"[disabled]="crewflag">
                      </app-searchable-select>
                      </div>


                    </div>


                    <div class="row">

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">

                        <app-searchable-select [options]="rankdrop" placeholderLabel="Search for rank"
                          noEntriesFoundLabel="No results found" [label]="'Rank'" formControlName="rank"
                          [required]="true" [errorMessage]="'Rank is required'" [disabled]="crewflag">
                        </app-searchable-select>
                      </div>

                     

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">



                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label> Birth Date </mat-label>
                          <input matInput [matDatepicker]="datepicker1" [max]="toDay" formControlName="dobObj" id="dob"
                            (dateInput)="$event.value.format('DD/MM/YYYY')"
                            (dateChange)="getDateString($event, 'dob',0)" placeholder="dd/mm/yyyy"  [readonly]="crewflag">
                          <mat-datepicker-toggle matSuffix [for]="datepicker1"></mat-datepicker-toggle>
                          <mat-datepicker #datepicker1></mat-datepicker>
                          <mat-error *ngIf="docForm.get('dobObj').hasError('required')">
                            Birth Date is required
                        </mat-error>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Father</mat-label>
                          <input matInput formControlName="father" [readonly]="crewflag">
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Mother</mat-label>
                          <input matInput formControlName="mother"  [readonly]="crewflag">
                        </mat-form-field>
                      </div>

                    </div>


                    <div class="row">


                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Birth Place</mat-label>
                          <input matInput formControlName="birthplace"  [readonly]="crewflag">
                        </mat-form-field>
                      </div>


                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        
                        
                        <app-searchable-select [options]="vessellist" placeholderLabel="Search for vessel"
                          noEntriesFoundLabel="No results found" [label]="'Exp.Vessels'" formControlName="vessel"
                          [required]="false" [errorMessage]="'Exp.Vessels is required'"[disabled]="crewflag">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>prior Exp.Months</mat-label>
                          <input matInput formControlName="priormonth" [readonly]="crewflag">
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    

                        <app-searchable-select [options]="decisioncodelist" placeholderLabel="Search for Decision Code"
                        noEntriesFoundLabel="No results found" [label]="'Decision Code'" formControlName="decisioncode"
                        [required]="false" [errorMessage]="'Decision Code is required'"[disabled]="crewflag">
                      </app-searchable-select>


                      </div>

                    </div>

                    <div class="row">

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                      

                        <app-searchable-select [options]="enginelist" placeholderLabel="Search for Exp.Engine"
                        noEntriesFoundLabel="No results found" [label]="'Exp.Engine'" formControlName="engine"
                        [required]="false" [errorMessage]="'Exp.Engine is required'" [disabled]="crewflag">
                      </app-searchable-select>


                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label> Last Sign Off Date </mat-label>
                          <input matInput [matDatepicker]="datepicker2" formControlName="signOffDateObj"
                            id="signOffDate" (dateInput)="$event.value.format('DD/MM/YYYY')"
                            (dateChange)="getDateString($event, 'signOffDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                          <mat-datepicker-toggle matSuffix [for]="datepicker2"></mat-datepicker-toggle>
                          <mat-datepicker #datepicker2></mat-datepicker>
                        </mat-form-field>
                      </div>


                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
        

                        <app-searchable-select [options]="agentlist" placeholderLabel="Search for Agent"
                        noEntriesFoundLabel="No results found" [label]="'Agent'" formControlName="agent"
                        [required]="true" [errorMessage]="'Agent is required'" [disabled]="crewflag">
                      </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Remarks</mat-label>
                          <input matInput formControlName="remarks" [readonly]="crewflag">
                        </mat-form-field>
                      </div>
                    </div>


                    <div class="row">

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label> Application Date </mat-label>
                          <input matInput [matDatepicker]="datepicker3" formControlName="appDateObj" id="appDate"
                            (dateInput)="$event.value.format('DD/MM/YYYY')"
                            (dateChange)="getDateString($event, 'appDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                          <mat-datepicker-toggle matSuffix [for]="datepicker3"></mat-datepicker-toggle>
                          <mat-datepicker #datepicker3></mat-datepicker>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Recom.By</mat-label>
                          <input matInput formControlName="recom" [readonly]="crewflag">
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label> Avail.From Date </mat-label>
                          <input matInput [matDatepicker]="datepicker4" formControlName="availfromDateObj"
                            id="availfromDate" (dateInput)="$event.value.format('DD/MM/YYYY')"
                            (dateChange)="getDateString($event, 'availfromDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                          <mat-datepicker-toggle matSuffix [for]="datepicker4"></mat-datepicker-toggle>
                          <mat-datepicker #datepicker4></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>


                  </div>


                  <div class="col-md-2">




                    <div style="background:#808080; color: white; padding: 8px 12px; margin-bottom: 10px; font-family: century gothic, sans-serif">
                      <b>Applicant:</b>
                    </div>
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                   
                      <div class="row">
                    
             
                        <div class="col-12" style="font-family: century gothic, sans-serif">
                          <app-file-upload (change)="selectFiles($event)"></app-file-upload>
                          <!-- <a href="{{filePath}}{{creditFile}}" target="_blank">{{creditFile}}</a> -->
                        </div>

                      </div>

                    </div>

                    <br>
                    <div style="background:#808080; color: white; padding: 6px 12px; margin-bottom: 10px; font-family: century gothic, sans-serif">
                      <b>C.V.Operations:</b>
                    </div>
              
                    <div class=" col-md-12" style="font-family: century gothic, sans-serif">
                        <mat-label><b>File Upload</b></mat-label>
                        <app-file-upload (change)="uploadFile($event)"></app-file-upload>

                    </div>
<br>
                    <div class=" col-md-12">
                      <button class="btn-space saveBtn" mat-raised-button (click)="checkList()" style="  background-color: #3191f8">CheckList</button>
  
                    </div>

                  </div>
                </div>
</mat-tab>

                <mat-tab label="Documents">
                  <br> <br> <br>

                <div class="row">

             

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12" style="font-family: century gothic, sans-serif">
                      <mat-label><b>File Upload</b></mat-label>

                      <app-file-upload (change)="uploadFileDoc1($event)" (click)="fileValidation1()" ></app-file-upload>

                  
                    
                  </div>



                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>S.Book</mat-label>
                      <input matInput formControlName="book" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Issue</mat-label>
                      <input matInput formControlName="issue" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Expiry </mat-label>
                      <input matInput [matDatepicker]="datepicker5" formControlName="expiryDateObj" id="expiryDate"
                        (dateInput)="$event.value.format('DD/MM/YYYY')"
                        (dateChange)="getDateString($event, 'expiryDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                      <mat-datepicker-toggle matSuffix [for]="datepicker5"></mat-datepicker-toggle>
                      <mat-datepicker #datepicker5></mat-datepicker>
                    </mat-form-field>
                  </div>

                </div>



                <div class="row">

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12" style="font-family: century gothic, sans-serif">
                   
                      <mat-label><b>File Upload</b></mat-label>

                      <app-file-upload (change)="uploadFileDoc2($event)" (click)="fileValidation()" ></app-file-upload>

                    
                    
                  </div>
                  
            

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Passport</mat-label>
                      <input matInput formControlName="passport" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Issue </mat-label>
                      <input matInput formControlName="passportissue" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Expiry </mat-label>
                      <input matInput [matDatepicker]="datepicker6" formControlName="passportExpiryDateObj"
                        id="passportExpiryDate" (dateInput)="$event.value.format('DD/MM/YYYY')"
                        (dateChange)="getDateString($event, 'passportExpiryDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                      <mat-datepicker-toggle matSuffix [for]="datepicker6"></mat-datepicker-toggle>
                      <mat-datepicker #datepicker6></mat-datepicker>
                    </mat-form-field>
                  </div>

                </div>



                <div class="row">
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                  </div>
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                   
                    <app-searchable-select [options]="licencedata" placeholderLabel="Search forLicence"
                    noEntriesFoundLabel="No results found" [label]="'Licence'" formControlName="licence"
                    [required]="false" [errorMessage]="'Licence is required'"[disabled]="crewflag">
                  </app-searchable-select>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Issue </mat-label>
                      <input matInput formControlName="licenceissue" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Expiry </mat-label>
                      <input matInput [matDatepicker]="datepicker7" formControlName="licenceExpiryDateObj"
                        id="licenceExpiryDate" (dateInput)="$event.value.format('DD/MM/YYYY')"
                        (dateChange)="getDateString($event, 'licenceExpiryDate',0)" placeholder="dd/mm/yyyy" [readonly]="crewflag">
                      <mat-datepicker-toggle matSuffix [for]="datepicker7"></mat-datepicker-toggle>
                      <mat-datepicker #datepicker7></mat-datepicker>
                    </mat-form-field>
                  </div>



                </div>


                <div class="row">
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                  </div>
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label> Grade </mat-label>
                      <input matInput formControlName="grade" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>License No</mat-label>
                      <input matInput formControlName="licenceno" [readonly]="crewflag">
                    </mat-form-field>
                    
                  </div>

                </div>


                <br><br>

                <br>
                </mat-tab>

                <mat-tab label="Address">
                  <div class="row">
                  <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12">
                  </div>
                  <div class="col-xl-5 col-lg-6 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Next of Kin</mat-label>
                      <input matInput formControlName="kin" [readonly]="crewflag">
                    </mat-form-field>
                  </div>


                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>City</mat-label>
                      <input matInput formControlName="city" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

     


                 
                </div>

                <div class="row">


                  <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12">
                  </div>
                  <div class="col-xl-5 col-lg-6 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Address 1</mat-label>
                      <input matInput formControlName="address1" [readonly]="crewflag">
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Tel 1</mat-label>
                      <input matInput formControlName="tel1" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                </div>

                <div class="row">

                  <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12">
                  </div>
                  <div class="col-xl-5 col-lg-6 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Address 2</mat-label>
                      <input matInput formControlName="address2" [readonly]="crewflag">
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Tel 2</mat-label>
                      <input matInput formControlName="tel2" [readonly]="crewflag">
                    </mat-form-field>
                  </div>

                </div>
</mat-tab>
</mat-tab-group>


           
                <div class="center">
                  <button *ngIf="!edit" class="btn-space saveBtn" mat-raised-button (click)="onSubmit()"><mat-icon class="saveCancelIcon">save</mat-icon>Save</button>
                  <button *ngIf="edit" class="btn-space saveBtn" mat-raised-button (click)="update()"><mat-icon class="saveCancelIcon">save</mat-icon>Update</button>
                  <button class="cancelBtn" type="button" mat-button (click)="onCancel()"><mat-icon class="saveCancelIcon">cancel</mat-icon>Cancel</button>
                        </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>