
<section class="content">
    <div class="content-block">
      <div class="block-header">
        <!-- breadcrumb -->
        <app-breadcrumb 
        [title]="'Departments'" 
        [items]="['Supplies','Supplies Control']" [active_item]="'Add Departments'">
    </app-breadcrumb>
      </div>
      <div class="row clearfix">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
          <div class="box-shadow">
            <div class="card">
              <div class="body">
               <form class="m-4" autocomplete="off" [formGroup]="docForm">

                <div class="row w-100">
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Department Code</mat-label>
                      <input matInput formControlName="depCode" style="text-transform: uppercase;" required>
                      <mat-error *ngIf="docForm.get('depCode').hasError('required')">
                        Department code is required
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Department Name</mat-label>
                      <input matInput formControlName="department" required>
                      <mat-error *ngIf="docForm.get('department').hasError('required')">
                        Department name is required
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <app-searchable-select 
                      [options]="formTypeList" 
                      placeholderLabel="Search"
                      noEntriesFoundLabel="No results found"
                      [label]="'Form Type'"
                      formControlName="formType"
                      [required]="false"
                      [errorMessage]="''">
                    </app-searchable-select>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Items To Order Comments</mat-label>
                      <input matInput formControlName="itemsToOrderComments" readonly>
                    </mat-form-field>
                    <mat-icon class="mt-15 c-pointer" (click)="openCommentsPopUp()">drag_indicator</mat-icon>
                  </div>
                </div>

                <div class="row w-100">
                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Items Not to Order Comments</mat-label>
                      <input matInput formControlName="itemsNotToOrderComments" readonly>
                    </mat-form-field>
                    <mat-icon class="mt-15 c-pointer" (click)="openItemsPopUp()">drag_indicator</mat-icon>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Tolerance %</mat-label>
                      <input matInput formControlName="tolerance" appDecimalFormat>
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Minimum Items</mat-label>
                      <input matInput formControlName="minimumItems" appNumericFormat>
                    </mat-form-field>
                  </div>

                  <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Lock Supply Cases With Invoice Date</mat-label>
                        <input matInput [matDatepicker]="lscPicker" formControlName="lscInvoiceDateObj" (dateInput)="$event.value.format('YYYY/MM/DD')" id="lscInvoiceDate" (dateChange)="getDateString($event, 'lscInvoiceDate')" autocomplete="off">
                        <mat-datepicker-toggle matSuffix [for]="lscPicker"></mat-datepicker-toggle>
                        <mat-datepicker #lscPicker></mat-datepicker>
                    </mat-form-field>
                </div>
                </div>

                <div class="row w-100">
                  <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <mat-checkbox formControlName="availableOffice" ngInit="checked=true">Available Office</mat-checkbox>
                  </div>

                  <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <mat-checkbox formControlName="availableVessel" ngInit="checked=true">Available Vessel</mat-checkbox>
                  </div>

                  <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <mat-checkbox formControlName="officeUndefinedItemS" ngInit="checked=true">Office Undefined Items(S)</mat-checkbox>
                  </div>

                  <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <mat-checkbox formControlName="vesselUndefinedItemS" ngInit="checked=true">Vessel Undefined Items(S)</mat-checkbox>
                  </div>
                </div>
                <br>
                <div class="row w-100">
                  <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <mat-checkbox formControlName="proposedItems" ngInit="checked=true">Proposed Items</mat-checkbox>
                  </div>
                </div>
                   <br>
                   <div class="center">
                     <button *ngIf="!edit" class="btn-space saveBtn" mat-raised-button (click)="save()"><mat-icon>save</mat-icon>Save</button>
                     <button *ngIf="edit" class="btn-space saveBtn" mat-raised-button (click)="update()"><mat-icon>save</mat-icon>Update</button>
                     <button class="cancelBtn" type="button" mat-button (click)="cancel()"><mat-icon>cancel</mat-icon>Cancel</button>
                   </div>
                   </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>