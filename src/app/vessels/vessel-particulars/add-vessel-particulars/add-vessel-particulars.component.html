<section class="content">
    <div class="content-block">
      <div class="block-header">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="'Add Vessel Particulars'" [items]="['Vessel']" [active_item]="'Add Vessel Particulars'">
        </app-breadcrumb>
      </div>

      <div class="row clearfix">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
          <div class="box-shadow">
            <div class="card">
              <div class="body">
               <form class="m-4" autocomplete="off" [formGroup]="docForm">
                 <mat-tab-group backgroundColor="light" animationDuration="1000ms">
                   <mat-tab label="General">
                    <br>
                    <div class="row w-100">
                        <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Code</mat-label>
                            <input matInput formControlName="code" readonly>
                          </mat-form-field>
                        </div>

                        <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Name</mat-label>
                            <input matInput formControlName="name" required>
                            <mat-error *ngIf="docForm.get('name').hasError('required')">
                              Name is required
                            </mat-error>
                          </mat-form-field>
                        </div>

                        <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex">
                          <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Short Name</mat-label>
                            <input matInput formControlName="shortname" required>
                            <mat-error *ngIf="docForm.get('shortname').hasError('required')">
                              Short name is required
                            </mat-error>
                          </mat-form-field>
                        </div>

                        <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                          <app-searchable-select class="w-100"
                            [options]="fleetlist" 
                            placeholderLabel="Search"
                            noEntriesFoundLabel="No results found"
                            [label]="'Fleet'"
                            formControlName="fleet"
                            [required]="true"
                            [errorMessage]="'Fleet is required'">
                          </app-searchable-select>

                          <div class="center h-7">
                            <button mat-mini-fab color="primary"  [routerLink]="'/vessels/maintain/fleets/add-fleets/0'">
                              <mat-icon class="col-white">add</mat-icon>
                            </button>
                          </div>
                        </div>
                    </div>

                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="vesseltypelist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Vessel Type'"
                          formControlName="vesseltype"
                          [required]="true"
                          [errorMessage]="'Vessel type is required'">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary"  [routerLink]="'/vessels/maintain/vessel-types/add-vessel-types/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="pandilist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'P & I'"
                          formControlName="pandi"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary"  [routerLink]="'/vessels/maintain/p-and-i/add-p-and-i/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="machinerylist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'HULL & Machinery'"
                          formControlName="hullandmachinery"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary"  [routerLink]="'/vessels/maintain/p-and-i/add-p-and-i/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="vesselgrouplist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Vessel Group'"
                          formControlName="vesselgroup"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary" [routerLink]="'/vessels/maintain/vessel-group/add-vessel-group/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="fdanddlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'FD & D'"
                          formControlName="fdandd"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary" [routerLink]="'/vessels/maintain/p-and-i/add-p-and-i/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="wagescalelist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Wage Scale'"
                          formControlName="wagescale"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary" [routerLink]="'/vessels/maintain/classification/add-classification/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="reasonlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Reason'"
                          formControlName="reason"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12 flex-sb">
                        <app-searchable-select class="w-100"
                          [options]="vesselClasslist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Vessel Class'"
                          formControlName="vesselClass"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>

                        <div class="center h-7">
                          <button mat-mini-fab color="primary" [routerLink]="'/vessels/maintain/class/add-class/0'">
                            <mat-icon class="col-white">add</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Valied Until(Mga)</mat-label>
                          <input matInput [matDatepicker]="datepicker2" formControlName="valiedUntilObj" id="valiedUntil"  (dateChange)="onDateChange2($event,'valiedUntil',0)"
                          (input)="onDateInput2($event.target.value,'valiedUntil',0)"   placeholder="dd/mm/yyyy">
                          <mat-datepicker-toggle matSuffix [for]="datepicker2"></mat-datepicker-toggle>
                          <mat-datepicker #datepicker2></mat-datepicker>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="fleetvessellist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Fleet Vessel Idnt'"
                          formControlName="fleetvessel"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Date in Fleet Type</mat-label>
                            <input matInput [matDatepicker]="datepicker1" formControlName="dateinfleettypeObj" 
                            id="dateinfleettype"  (dateChange)="onDateChange($event,'dateinfleettype',0)"
                            (input)="onDateInput($event.target.value,'dateinfleettype',0)"   placeholder="dd/mm/yyyy">
                            <mat-datepicker-toggle matSuffix [for]="datepicker1"></mat-datepicker-toggle>
                            <mat-datepicker #datepicker1></mat-datepicker>
                          </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                        <mat-checkbox formControlName="vesselStatus" ngInit="checked=true">Active</mat-checkbox>
                      </div>
                    </div>

                    <div class="row w-100" *ngIf="docForm.value.fleetvessel == 'Sister'">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Lead Vessel Id</mat-label>
                          <input matInput formControlName="leadvesselid">
                        </mat-form-field>
                      </div>
                    </div>
                   </mat-tab>

                   <mat-tab label="Main Details">
                    <br>
                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="flaglist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Flag'"
                          formControlName="flag"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="registryportlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Registry Port'"
                          formControlName="registryport"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Registry No</mat-label>
                          <input matInput formControlName="registryno" appNumericFormatDirective>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Class No</mat-label>
                          <input matInput formControlName="classno" appNumericFormatDirective>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>Built Date</mat-label>
                          <input matInput [matDatepicker]="bDate" 
                            formControlName="builtdateObj" 
                            id="builtdate"  
                            (dateChange)="onDateChange2($event,'builtdate',0)"
                            (input)="onDateInput2($event.target.value,'builtdate',0)"   
                            placeholder="dd/mm/yyyy">
                          <mat-datepicker-toggle matSuffix [for]="bDate"></mat-datepicker-toggle>
                          <mat-datepicker #bDate></mat-datepicker>
                        </mat-form-field>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Place Build</mat-label>
                            <input matInput formControlName="placeBuild">
                          </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Yard Build</mat-label>
                            <input matInput formControlName="yardbuild">
                        </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-label>IMO NO</mat-label>
                          <input matInput formControlName="imono" appNumericFormatDirective>
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Hull No</mat-label>
                            <input matInput formControlName="hullno" appNumericFormatDirective>
                          </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Call Sign</mat-label>
                            <input matInput formControlName="callsign">
                          </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Nat Number</mat-label>
                            <input matInput formControlName="natnumber" appNumericFormatDirective>
                          </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>MMIS</mat-label>
                            <input matInput formControlName="mmis" appNumericFormatDirective>
                          </mat-form-field>                  
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="iceclasslist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Ice Class'"
                          formControlName="iceclass"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>
                    </div>
                   </mat-tab>

                   <mat-tab label="Commerical">
                    <br>
                    <div class="row w-100">
                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="shipownerlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Shipowner'"
                          formControlName="shipowner"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="operatorlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Operator'"
                          formControlName="operator"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Saftey No</mat-label>
                            <input matInput formControlName="safteyno" appNumericFormatDirective>
                          </mat-form-field>                  
                      </div>
                    </div> 
                   </mat-tab>

                   <mat-tab label="Crew">
                    <br>
                    <div class="row w-100">
                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="officialManagerlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Official Manager'"
                          formControlName="officialManager"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="shipmanagerlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Ship Manager'"
                          formControlName="shipmanager"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <app-searchable-select 
                          [options]="crewmanagerlist" 
                          placeholderLabel="Search"
                          noEntriesFoundLabel="No results found"
                          [label]="'Crew Manager'"
                          formControlName="crewmanager"
                          [required]="false"
                          [errorMessage]="''">
                        </app-searchable-select>
                      </div>

                      <div class="col-xl-3 col-lg-4 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                            <mat-label>Group Manager</mat-label>
                            <input matInput formControlName="groupmanager" >
                          </mat-form-field>            
                      </div>
                    </div> 
                   </mat-tab>
                 </mat-tab-group>

                  <br>
                  <div class="center">
                    <button class="btn-space saveBtn" mat-raised-button (click)="onSubmit()"><mat-icon class="saveCancelIcon">save</mat-icon>Save</button>
                    <button class="cancelBtn" type="button" mat-button (click)="onCancel()"><mat-icon class="saveCancelIcon">cancel</mat-icon>Cancel</button>
                  </div>
               </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


