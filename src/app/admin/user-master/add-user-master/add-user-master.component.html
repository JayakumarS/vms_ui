<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="'User Master'" [items]="['Admin']" [active_item]="'Add User Master'">
      </app-breadcrumb>
    </div>
    <div class="row clearfix ">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="box-shadow">
          <div class="card">
            <div class="body">
              <form class="m-4" [formGroup]="docForm">
               
               
               
               
                <div *ngIf="edit">
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Full Name</mat-label>
                        <input matInput formControlName="fullName" (blur)="validateFullName($event.target.value)">
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Login Name</mat-label>
                        <input matInput formControlName="loginName">
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Email ID</mat-label>
                        <input matInput formControlName="emailId" required>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Contact Number</mat-label>
                        <input matInput formControlName="contactNumber">
                      </mat-form-field>
                    </div>

                  </div>

                  <div class="row center ">

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Designation</mat-label>
                        <mat-select formControlName="designation">
                          <mat-option *ngFor="let title of designationList" [value]="title.id">
                            {{title.text}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Department</mat-label>
                        <mat-select formControlName="department">
                          <mat-option *ngFor="let title of departmentList" [value]="title.id">
                            {{title.text}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                  </div>

                  <div class="row center">

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Company</mat-label>
                        <input matInput formControlName="company" readonly>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Address</mat-label>
                        <input matInput formControlName="address">
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row center ">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Location</mat-label>
                        <mat-select formControlName="location">
                          <mat-option *ngFor="let title of locationList" [value]="title.id">
                            {{title.text}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Reporting Manager</mat-label>
                        <mat-select formControlName="reportingmngr">
                          <mat-option *ngFor="let title of usernameList" [value]="title.id">
                            {{title.text}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                  </div>
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12" style="    margin-left: 1%;">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>User Type</mat-label>
                        <mat-select formControlName="usertype">
                          <mat-option value="Casual">Casual</mat-option>
                          <mat-option value="Permanent">Permanent</mat-option>
                        </mat-select>
                        <mat-error *ngIf="docForm.get('usertype').hasError('required')">
                          User Type is required
                        </mat-error>
                      </mat-form-field>

                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12" style="  margin-left: 1%;">
                      <mat-checkbox formControlName="status" ngInit="checked=true">Active</mat-checkbox>
                    </div>
                  </div>
                </div>

                <div *ngIf="!edit">
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>User ID</mat-label>
                        <input matInput formControlName="empId" (blur)="validateempId($event.target.value)"
                          style="text-transform:uppercase;" >
                        <mat-error *ngIf="docForm.get('empId').hasError('required')">
                          User ID is required
                        </mat-error>
                        <mat-error *ngIf="docForm.get('empId').hasError('empid')">
                          User ID Already Exists !!!
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Login Name</mat-label>
                        <input matInput formControlName="loginName" (blur)="validateLoginName($event.target.value)"
                          style="text-transform:uppercase;" >
                        <mat-error *ngIf="docForm.get('loginName').hasError('required')">
                          Login Name is required
                        </mat-error>
                        <mat-error *ngIf="docForm.get('loginName').hasError('login')">
                          Login Name Already Exists !!!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Full Name</mat-label>
                        <input matInput formControlName="fullName" (blur)="validateCountry($event.target.value)"
                          style="text-transform: uppercase;" >
                        <mat-error *ngIf="docForm.controls['fullName'].hasError('required') ">
                          Full Name Is Required !!!
                        </mat-error>
                        <mat-error *ngIf="docForm.controls['fullName'].hasError('country') ">
                          Full Name Already Exists !!!
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Email ID</mat-label>
                        <input matInput formControlName="emailId" >
                        <mat-error *ngIf="docForm.controls['emailId'].hasError('required') ">
                          Email ID Is Required !!!
                        </mat-error>
                      </mat-form-field>
                    </div>



                  </div>

                  <div class="row center ">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Contact Number</mat-label>
                        <input matInput formControlName="contactNumber">
                      </mat-form-field>
                    </div>

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Designation</mat-label>
                        <input type="text" matInput formControlName="designation" style="text-transform: capitalize;"
                          [matAutocomplete]="auto" required>
                        <mat-autocomplete #auto="matAutocomplete" (keyup)="onKey($event.target.value)"
                          [displayWith]="getdsgnation1.bind(this)">
                          <mat-option *ngFor="let option of designationList" [value]="option.id">
                            {{option.text}}
                          </mat-option>
                        </mat-autocomplete>
                        <mat-error *ngIf="myControlDesignation.errors?.requireMatch">
                          Choose Valid Designation
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row center">

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Company</mat-label>
                        <input matInput formControlName="company" readonly>
                      </mat-form-field>
                    </div>


                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Department</mat-label>
                        <input type="text" matInput formControlName="department" style="text-transform: capitalize;"
                          [matAutocomplete]="auto1" required>
                        <mat-autocomplete #auto1="matAutocomplete" (keyup)="onKey1($event.target.value)"
                          [displayWith]="getdprtmnt1.bind(this)">
                          <mat-option *ngFor="let option of departmentList" [value]="option.id">
                            {{option.text}}
                          </mat-option>
                        </mat-autocomplete>
                        <mat-error *ngIf="myControlDepartment.errors?.requireMatch1">
                          Choose Valid Department
                        </mat-error>
                      </mat-form-field>
                    </div>


                  </div>

                  <div class="row center ">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Location</mat-label>
                        <input type="text" matInput formControlName="location" style="text-transform: capitalize;"
                          [matAutocomplete]="auto2" required>
                        <mat-autocomplete #auto2="matAutocomplete" (keyup)="onKey2($event.target.value)"
                          [displayWith]="getloc1.bind(this)">
                          <mat-option *ngFor="let option of locationList" [value]="option.id">
                            {{option.text}}
                          </mat-option>
                        </mat-autocomplete>
                        <mat-error *ngIf="myControlLocation.errors?.requireMatch2">
                          Choose Valid Location
                        </mat-error>
                      </mat-form-field>
                    </div>


                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Address</mat-label>
                        <input matInput formControlName="address">
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row center">
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>Reporting Manager</mat-label>
                        <input type="text" matInput formControlName="reportingmngr" style="text-transform: capitalize;"
                          [matAutocomplete]="auto3" required>
                        <mat-autocomplete #auto3="matAutocomplete" (keyup)="onKey3($event.target.value)"
                          [displayWith]="getrptngmngr1.bind(this)">
                          <mat-option *ngFor="let option of usernameList" [value]="option.id">
                            {{option.text}}
                          </mat-option>
                        </mat-autocomplete>
                        <mat-error *ngIf="myControlReportingManager.errors?.requireMatch3">
                          Choose Valid Reporting Manager
                        </mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                        <mat-label>User Type</mat-label>
                        <mat-select formControlName="usertype">
                          <mat-option value="Casual">Casual</mat-option>

                          <mat-option value="Permanent">Permanent</mat-option>
                        </mat-select>
                        <mat-error *ngIf="docForm.get('usertype').hasError('required')">
                          User Type is required
                        </mat-error>
                      </mat-form-field>

                    </div>

                  </div>
                  <br>
                  <div class="row" style="margin-left: 18%;">
                    <div class="col-xl-2 col-lg-2 col-md-12 col-sm-12">
                      <mat-checkbox formControlName="status" ngInit="checked=true">Active</mat-checkbox>
                    </div>
                  </div>
                </div>




                <br>
                <div class="row" style="margin-left: 6%;">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                    <button *ngIf="!edit" (click)="onSubmit()" class="btn-space" mat-raised-button color="accent"
                      style="margin-left: 36%;background-color: #34d034;">Submit</button>
                    <button *ngIf="edit" (click)="update()" class="btn-space" mat-raised-button color="accent"
                      style="margin-left: 36%;background-color: #34d034;">Update</button>
                    <button color="primary" type="button" class="btn-space" (click)="reset()"
                      mat-raised-button>Reset</button>
                    <button color="warn" type="button" class="btn-space" (click)="onCancel()"
                      mat-raised-button>Cancel</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>